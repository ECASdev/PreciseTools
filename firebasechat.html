<!DOCTYPE html>
<html>
<head>
  <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.2.1/firebase-database.js"></script>
  <link rel="stylesheet" href="yes.css">
</head>
<body>

  <div id="messages"></div>
  <input type="text" id="message" placeholder="Send a message...">
  <button onclick="sendMessage()">Send</button>
  <input type="text" id="username" placeholder="Select a username">
  <style>
	#messages {
		height: 400px;
		padding:10px;
        overflow-y: scroll;
		background: white;
		color:black;
		width: 100%;
    }
	#messages>div{
		border: 1px solid #000000;
		border-radius: 10px;
		padding:5px;
	}
  </style>

  <script>
    // TODO: Replace the following with your app's Firebase project configuration
	const firebaseConfig = {
  apiKey: "AIzaSyDBAVHLtzXcBno-aW5JXt29C2qwLDPvuuY",
  authDomain: "precisetools-chat.firebaseapp.com",
  databaseURL: "https://precisetools-chat-default-rtdb.firebaseio.com",
  projectId: "precisetools-chat",
  storageBucket: "precisetools-chat.appspot.com",
  messagingSenderId: "985465586999",
  appId: "1:985465586999:web:51fc8054469cb5951d46b2",
  measurementId: "G-MWZ3RK7Q1L"
};

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    var messageInput = document.getElementById("message");
    var username = document.getElementById("username").value;
    var messagesDiv = document.getElementById("messages");
	var general = "general"
	
    function sendMessage() {
      var message = messageInput.value;
      firebase.database().ref("general").push().set({
        "message": "["+username+"] "message
      });
      messageInput.value = "";
    }

    firebase.database().ref("general").on("child_added", function(snapshot) {
      var message = snapshot.val();
      var messageDiv = document.createElement("div");
      messageDiv.textContent = message.message;
      messagesDiv.appendChild(messageDiv);
    });
  </script>
</body>
</html>